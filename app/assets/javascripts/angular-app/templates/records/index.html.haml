%h1.page-header.text-center
  .pull-right
    %a{class: 'btn btn-default', href: '/#/records/new'} Add Record
  Calorie Records
.panel.panel-default
  .panel-body
    %form{name: 'filter_records_form', class: 'form-inline form-control-sm', 'ng-submit':'filter_records()'}
      .form-group.col-xs-5
        %label{name: 'date', class: 'form-label'} Date Range
        .input-group.date.col-xs-4{'datez': true, 'ng-model':'filter.date_from'}
          %input{name: 'date_from', type: 'text', class: 'form-control', placeholder: 'From', 'ng-model':'filter.date_from'}
          %span.input-group-addon
            %span.glyphicon.glyphicon-calendar
        %label{name: 'date', class: 'form-label'} -
        .input-group.date.col-xs-4{'datez': true, 'ng-model':'filter.date_to'}
          %input{name: 'date_to', type: 'text', class: 'form-control',  placeholder: 'To', 'ng-model':'filter.date_to'}
          %span.input-group-addon
            %span.glyphicon.glyphicon-calendar
      .form-group.col-xs-5
        %label{name: 'time', class: 'form-label'} Time Range
        .input-group.date.col-xs-4{'timez': true, 'ng-model':'filter.time_from'}
          %input{name: 'time_from', type: 'text', class: 'form-control', placeholder: 'From', 'ng-model':'filter.time_from'}
          %span.input-group-addon
            %span.glyphicon.glyphicon-time
        %label{name: 'date', class: 'form-label'} -
        .input-group.date.col-xs-4{'timez': true, 'ng-model':'filter.time_to'}
          %input{name: 'time_to', type: 'text', class: 'form-control', placeholder: 'To', 'ng-model':'filter.time_to'}
          %span.input-group-addon
            %span.glyphicon.glyphicon-time
      %input{type: 'submit', value: 'Filter', class: 'btn btn-info'}
      %a{href: '/#/', class: 'btn btn-default'} Reset
.panel.panel-default
  .panel-body
    %table.table
      %thead
        %th User
        %th Date
        %th Time
        %th.text-center Meal
        %th Calories
        %th
      %tbody
        %tr{'ng-repeat':'record in records', 'ng-controller':'RecordsDeleteController','ng-class': "{'text-success': record.overflow == false, 'text-danger': record.overflow}"}
          %td {{record.user.email}}
          %td {{record.date}}
          %td {{record.time}}
          %td.text-center {{record.meal}}
          %td {{record.num_of_calories | thousand_separator}}
          %td.text-right
            %a{href:'/#/records/{{record.id}}/edit',class: 'btn-icon'}
              %span{class:"glyphicon glyphicon-edit",'aria-hidden':true}
            %a{'ng-click':"delete()",class: 'btn-icon'}
              %span{class:"glyphicon glyphicon-trash",'aria-hidden':true}